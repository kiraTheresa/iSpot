 æ ¹æ®ä½ ä»¬ä¸‰äººå°ç»„çš„ä»»åŠ¡åˆ’åˆ†ä¸çŸ­æœŸå¼€å‘å‘¨æœŸï¼ˆå¢é‡å¼€å‘ã€ä»¥åŠŸèƒ½æ¼”ç¤ºä¸ºä¸»ï¼‰ï¼Œæˆ‘ä¸ºä½ æ•´ç†äº†ä¸€ä»½**å¯ç›´æ¥ä½¿ç”¨çš„æ•°æ®æ¨¡å‹è¯´æ˜æ–‡æ¡£**ï¼Œé‡ç‚¹åœ¨äºï¼š

- ä¿æŒå­—æ®µç®€æ´ä½†èƒ½æ”¯æ’‘ä¸»è¦åŠŸèƒ½ï¼ˆç”¨æˆ·ç™»å½•ã€ä½ç½®å…±äº«ã€å‘å¸–ã€æ¶ˆæ¯äº¤æµï¼‰ï¼›
- ä¸ Android å‰ç«¯ã€åç«¯æ¥å£è®¾è®¡ä¿æŒå…¼å®¹ï¼›
- é€‚åˆåæœŸè¿­ä»£æ—¶è‡ªç„¶æ‰©å±•ã€‚

------

# ğŸ“˜ iSpot é¡¹ç›®æ•°æ®æ¨¡å‹è¯´æ˜æ–‡æ¡£ï¼ˆç®€ç‰ˆï¼‰

## 1ï¸âƒ£ æ¦‚è¿°

æœ¬æ–‡æ¡£å®šä¹‰äº† iSpot åœ°å›¾ç¤¾äº¤åº”ç”¨çš„æ ¸å¿ƒæ•°æ®å®ä½“ã€‚
 æ¨¡å‹è®¾è®¡éµå¾ªä»¥ä¸‹åŸåˆ™ï¼š

- å°½é‡å‡å°‘å­—æ®µæ•°é‡ï¼Œç¡®ä¿æ˜“å®ç°ï¼›
- æ‰€æœ‰å®ä½“å‡å…·å¤‡å”¯ä¸€æ ‡è¯† `id`ï¼›
- å…¼å®¹ Android ä¸åç«¯ JSON äº¤äº’ï¼›
- ä¾¿äºåæœŸè¿ç§»è‡³æ•°æ®åº“ç»“æ„ã€‚

------

## 2ï¸âƒ£ å®ä½“åˆ—è¡¨

| å®ä½“å          | è¯´æ˜                  | ç”¨é€”               |
| --------------- | --------------------- | ------------------ |
| `User`          | ç”¨æˆ·ä¿¡æ¯              | ç™»å½•æ³¨å†Œã€æ˜¾ç¤ºèµ„æ–™ |
| `LocationPoint` | ä½ç½®ä¿¡æ¯              | åœ°å›¾æ˜¾ç¤ºç”¨æˆ·åæ ‡   |
| `Post`          | ç”¨æˆ·åŠ¨æ€ï¼ˆæ–‡å­—+å›¾ç‰‡ï¼‰ | æœ‹å‹åœˆåŠŸèƒ½         |
| `Message`       | ç‚¹å¯¹ç‚¹èŠå¤©æ¶ˆæ¯        | ç¤¾äº¤äº’åŠ¨åŸºç¡€       |

------

## 3ï¸âƒ£ æ•°æ®æ¨¡å‹è¯¦æƒ…

------

### ğŸ§â€â™‚ï¸ `User` å®ä½“ â€”â€” ç”¨æˆ·ä¿¡æ¯

| å­—æ®µå           | ç±»å‹     | ç¤ºä¾‹                               | è¯´æ˜                   |
| ---------------- | -------- | ---------------------------------- | ---------------------- |
| `id`             | `String` | `"a3f2-7c91-4b2b"`                 | ç³»ç»Ÿè‡ªåŠ¨ç”Ÿæˆçš„ UUID    |
| `username`       | `String` | `"theresa_01"`                     | ç”¨æˆ·ç™»å½•åï¼ˆå”¯ä¸€ï¼‰     |
| `password`       | `String` | `"123456"`                         | ç™»å½•å¯†ç ï¼ˆæš‚ä¸åŠ å¯†ï¼‰   |
| `nickname`       | `String` | `"Theresa"`                        | æ˜¾ç¤ºå                 |
| `avatarUrl`      | `String` | `"https://example.com/avatar.png"` | å¤´åƒåœ°å€ï¼Œå¯é€‰         |
| `lat`            | `double` | `35.6895`                          | å½“å‰çº¬åº¦               |
| `lng`            | `double` | `139.6917`                         | å½“å‰ç»åº¦               |
| `lastActiveTime` | `long`   | `1697442912000`                    | æœ€è¿‘æ´»è·ƒæ—¶é—´æˆ³ï¼ˆæ¯«ç§’ï¼‰ |

> ğŸ’¡ å‰ç«¯ä¸»è¦ç”¨é€”ï¼š
>
> - ç”¨æˆ·ç™»å½•çŠ¶æ€ç®¡ç†
> - åœ°å›¾ä¸Šæ˜¾ç¤ºå¤´åƒæ ‡è®°
> - ä¸ªäººä¸»é¡µèµ„æ–™æ˜¾ç¤º

------

### ğŸ“ `LocationPoint` å®ä½“ â€”â€” ç”¨æˆ·ä½ç½®ç‚¹

| å­—æ®µå      | ç±»å‹     | ç¤ºä¾‹               | è¯´æ˜        |
| ----------- | -------- | ------------------ | ----------- |
| `id`        | `String` | `"loc-002"`        | å”¯ä¸€æ ‡è¯†    |
| `userId`    | `String` | `"a3f2-7c91-4b2b"` | å¯¹åº”ç”¨æˆ· ID |
| `lat`       | `double` | `35.6895`          | çº¬åº¦        |
| `lng`       | `double` | `139.6917`         | ç»åº¦        |
| `timestamp` | `long`   | `1697442912000`    | è®°å½•æ—¶é—´æˆ³  |

> ğŸ’¡ åç«¯ä¿å­˜æœ€è¿‘ä½ç½®ï¼›
>  Android åœ°å›¾ç«¯é€šè¿‡æ¥å£ `/api/location/all` è·å–å…¨éƒ¨åæ ‡ç‚¹ç”¨äºæ¸²æŸ“ã€‚

------

### ğŸ—£ï¸ `Post` å®ä½“ â€”â€” åŠ¨æ€ä¿¡æ¯

| å­—æ®µå         | ç±»å‹     | ç¤ºä¾‹                            | è¯´æ˜                 |
| -------------- | -------- | ------------------------------- | -------------------- |
| `id`           | `String` | `"post-1001"`                   | åŠ¨æ€å”¯ä¸€æ ‡è¯†         |
| `userId`       | `String` | `"a3f2-7c91-4b2b"`              | å‘å¸ƒè€…               |
| `content`      | `String` | `"ä»Šå¤©åœ¨æ¶©è°·å¶é‡äº†ä¸€åªçŒ« ğŸ±"`    | åŠ¨æ€æ–‡æœ¬             |
| `imageUrl`     | `String` | `"https://example.com/pic.jpg"` | åŠ¨æ€å›¾ç‰‡ï¼ˆå¯ç©ºï¼‰     |
| `timestamp`    | `long`   | `1697442912000`                 | å‘å¸ƒæ—¶é—´æˆ³           |
| `likeCount`    | `int`    | `12`                            | ç‚¹èµæ•°               |
| `commentCount` | `int`    | `3`                             | è¯„è®ºæ•°ï¼ˆå¯çœç•¥å®ç°ï¼‰ |

> ğŸ’¡ æœ€å°å®ç°ï¼šåªéœ€æ˜¾ç¤º `content` ä¸ `imageUrl`ï¼Œç‚¹èµå¯å…ˆä¸å®ç°é€»è¾‘ã€‚

------

### ğŸ’¬ `Message` å®ä½“ â€”â€” èŠå¤©ä¿¡æ¯

| å­—æ®µå       | ç±»å‹      | ç¤ºä¾‹               | è¯´æ˜         |
| ------------ | --------- | ------------------ | ------------ |
| `id`         | `String`  | `"msg-0001"`       | æ¶ˆæ¯å”¯ä¸€æ ‡è¯† |
| `senderId`   | `String`  | `"a3f2-7c91-4b2b"` | å‘é€è€…       |
| `receiverId` | `String`  | `"u-9988"`         | æ¥æ”¶è€…       |
| `content`    | `String`  | `"æ™šä¸Šè§ï¼"`       | æ¶ˆæ¯å†…å®¹     |
| `timestamp`  | `long`    | `1697442912000`    | å‘é€æ—¶é—´æˆ³   |
| `read`       | `boolean` | `false`            | æ˜¯å¦å·²è¯»     |

> ğŸ’¡ èŠå¤©åŠŸèƒ½å¯ç®€åŒ–ä¸ºâ€œå•å‘å‘é€+æœ¬åœ°æ˜¾ç¤ºâ€ï¼Œåç«¯æš‚ä¸éœ€å®æ—¶é€šä¿¡ï¼ˆWebSocket å¯åæœŸæ‰©å±•ï¼‰ã€‚

------

## 4ï¸âƒ£ å®ä½“ä¹‹é—´çš„å…³ç³»ï¼ˆç®€å›¾ï¼‰

```
User 1 â”€â”€â”€ * LocationPoint
User 1 â”€â”€â”€ * Post
User 1 â”€â”€â”€ * Message (sender)
User 1 â”€â”€â”€ * Message (receiver)
```

ğŸ“Š è¯´æ˜ï¼š

- ç”¨æˆ·å¯ä»¥æ‹¥æœ‰å¤šä¸ªå®šä½è®°å½•ï¼›
- ç”¨æˆ·å¯ä»¥å‘å¸ƒå¤šæ¡åŠ¨æ€ï¼›
- æ¶ˆæ¯é€šè¿‡ `senderId` ä¸ `receiverId` å»ºç«‹åŒå‘å…³è”ã€‚

------

## 5ï¸âƒ£ JSON äº¤äº’æ ·ä¾‹

### ğŸ”¹ ç”¨æˆ·æ³¨å†Œ

```json
POST /api/user/register
{
  "username": "theresa_01",
  "password": "123456",
  "nickname": "Theresa"
}
```

å“åº”ï¼š

```json
{
  "id": "a3f2-7c91-4b2b",
  "username": "theresa_01",
  "nickname": "Theresa",
  "avatarUrl": null,
  "lat": 0.0,
  "lng": 0.0
}
```

### ğŸ”¹ ä¸Šä¼ ä½ç½®

```json
POST /api/location/update
{
  "userId": "a3f2-7c91-4b2b",
  "lat": 35.6895,
  "lng": 139.6917
}
```

### ğŸ”¹ è·å–æ‰€æœ‰åŠ¨æ€

```json
GET /api/post/all
[
  {
    "userId": "u-01",
    "content": "ä»Šå¤©åœ¨å­¦æ ¡å›¾ä¹¦é¦†çœ‹ä¹¦ ğŸ“š",
    "imageUrl": null,
    "timestamp": 1697442912000
  }
]
```

------

## 6ï¸âƒ£ ç®€åŒ–å®ç°å»ºè®®

| ä¼˜å…ˆçº§   | å®ä½“            | å»ºè®®                  |
| -------- | --------------- | --------------------- |
| â­ é«˜     | `User`          | æ³¨å†Œã€ç™»å½•ã€ä¿å­˜åæ ‡  |
| â­ é«˜     | `LocationPoint` | ä¸Šä¼ ä½ç½®ã€å±•ç¤ºæ‰€æœ‰ç‚¹  |
| â­ ä¸­     | `Post`          | å‘å¸ƒåŠ¨æ€ï¼ˆæ–‡å­—/å›¾ç‰‡ï¼‰ |
| âš™ï¸ å¯å»¶å | `Message`       | åæœŸå¢åŠ ç®€å•æ¶ˆæ¯è®°å½•  |

------

## âœ… ç»“è¯­

æœ¬æ•°æ®æ¨¡å‹æ–¹æ¡ˆï¼š

- å­—æ®µç®€æ´ã€é€»è¾‘æ¸…æ™°ï¼›
- å¯æ”¯æŒ Android åœ°å›¾å±•ç¤º + åŸºç¡€ç¤¾äº¤ï¼›
- èƒ½å¿«é€Ÿå®Œæˆæ¥å£ä¸ UI è”è°ƒï¼›
- å¯åœ¨åæœŸè½»æ¾æ‰©å±•æ•°æ®åº“ç»“æ„ã€‚

