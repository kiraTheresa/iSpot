å¥½çš„ âœ… Theresaï¼Œè¿™ä»½æ˜¯ä½ è¦çš„ `0.3 å®‰å“-åœ°å›¾SDK-æµç¨‹æ–‡æ¡£.md`ï¼Œæˆ‘æŒ‰ç…§ä½ **å·²æœ‰å®Œæ•´å®‰å“é¡¹ç›®ç»éªŒ**ã€**é¡¹ç›®å·¥å…·ç¯å¢ƒä¿æŒä¸€è‡´ï¼ˆAndroid Studio + Kotlin + Room + RecyclerView + MVVM æ¶æ„ï¼‰\**çš„æ ‡å‡†æ¥å†™ã€‚
 å†…å®¹ä»¥\**å®æ“ä¸ºå¯¼å‘**ï¼ŒåŒ…æ‹¬é˜¶æ®µåˆ’åˆ†ã€å…³é”®æŠ€æœ¯æ ˆã€åœ°å›¾SDKå»ºè®®ï¼ˆå¦‚é«˜å¾·/ç™¾åº¦/Google Maps å¯æ›¿æ¢ï¼‰å’Œæ¯é˜¶æ®µç›®æ ‡ã€‚

------

## 0.3 å®‰å“ - åœ°å›¾SDK ç›¸å…³å¼€å‘æµç¨‹æ–‡æ¡£

### ğŸ”§ å¼€å‘ç¯å¢ƒ

- **å¼€å‘å·¥å…·**ï¼šAndroid Studio (æ¨è Arctic Fox ä»¥ä¸Šç‰ˆæœ¬)
- **è¯­è¨€**ï¼šKotlin
- **æ¶æ„æ¨¡å¼**ï¼šMVVMï¼ˆViewModel + LiveData + Repositoryï¼‰
- **UIç»„ä»¶**ï¼šRecyclerViewã€Fragmentã€BottomNavigationã€ViewPager
- **æœ¬åœ°æ•°æ®å­˜å‚¨**ï¼šRoom
- **ä¾èµ–ç®¡ç†**ï¼šGradle
- **åœ°å›¾SDK**ï¼šé«˜å¾·åœ°å›¾ï¼ˆAMap SDK for Androidï¼‰æˆ– Google Mapsï¼ˆå›½é™…ç‰ˆé¡¹ç›®ï¼‰

------

## ğŸ§© ä¸€ã€é˜¶æ®µ 0ï¼šç¯å¢ƒä¸SDKå‡†å¤‡

### 1. SDK é€‰æ‹©ä¸æ³¨å†Œ

é€‰æ‹©åœ°å›¾ SDKï¼š

- **å›½å†…æ¨è**ï¼šé«˜å¾·åœ°å›¾ AMap SDK
- **å›½é™…é¡¹ç›®**ï¼šGoogle Maps SDK
- éœ€æ³¨å†Œå¼€å‘è€…è´¦å·ï¼Œç”³è¯· **API Keyï¼ˆå¯†é’¥ï¼‰**

### 2. ç¯å¢ƒé…ç½®

åœ¨ `AndroidManifest.xml` ä¸­å£°æ˜ï¼š

```xml
<meta-data
    android:name="com.amap.api.v2.apikey"
    android:value="ä½ çš„API_KEY" />
```

å¹¶æ·»åŠ å®šä½æƒé™ï¼š

```xml
<uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" />
<uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION" />
<uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" />
```

### 3. Gradle ä¾èµ–

```gradle
implementation 'com.amap.api:3dmap:latest.integration'
implementation 'com.amap.api:location:latest.integration'
```

------

## ğŸš€ äºŒã€é˜¶æ®µ 1ï¼šåœ°å›¾æ¨¡å—åˆå§‹åŒ–

### ç›®æ ‡

å®ç°åŸºæœ¬çš„åœ°å›¾æ˜¾ç¤ºä¸äº¤äº’æ“ä½œã€‚

### å…³é”®ä»»åŠ¡

1. æ–°å»º `MapFragment`ï¼Œå¸ƒå±€åŒ…å«åœ°å›¾å®¹å™¨ï¼š

```xml
<com.amap.api.maps.MapView
    android:id="@+id/mapView"
    android:layout_width="match_parent"
    android:layout_height="match_parent" />
```

1. åœ¨ Fragment ä¸­åˆå§‹åŒ–åœ°å›¾ï¼š

```kotlin
class MapFragment : Fragment() {
    private lateinit var mapView: MapView
    private lateinit var aMap: AMap

    override fun onCreateView(...) {
        val view = inflater.inflate(R.layout.fragment_map, container, false)
        mapView = view.findViewById(R.id.mapView)
        mapView.onCreate(savedInstanceState)
        aMap = mapView.map
        return view
    }
}
```

1. å¯ç”¨å®šä½ç‚¹ä¸ç¼©æ”¾æ“ä½œï¼š

```kotlin
aMap.uiSettings.isZoomControlsEnabled = true
aMap.isMyLocationEnabled = true
```

------

## ğŸ“ ä¸‰ã€é˜¶æ®µ 2ï¼šå®šä½ä¸ç”¨æˆ·è½¨è¿¹

### ç›®æ ‡

å®ç°å®æ—¶å®šä½ã€ä½ç½®æ›´æ–°ä¸ç”¨æˆ·ç§»åŠ¨è·¯å¾„ç»˜åˆ¶ã€‚

### æ ¸å¿ƒå®ç°

1. ä½¿ç”¨ **AMapLocationClient** è·å–ç”¨æˆ·å½“å‰ä½ç½®ï¼›
2. æ³¨å†Œç›‘å¬å™¨å®æ—¶æ›´æ–°ä½ç½®ï¼›
3. ç»˜åˆ¶ç§»åŠ¨è½¨è¿¹ï¼ˆæŠ˜çº¿ï¼‰ï¼š

```kotlin
val polylineOptions = PolylineOptions()
    .addAll(locationList)
    .color(Color.BLUE)
aMap.addPolyline(polylineOptions)
```

1. å¯æ·»åŠ æ•°æ®åº“ç¼“å­˜ï¼Œä½¿ç”¨ Room å­˜å‚¨ç”¨æˆ·çš„å†å²è½¨è¿¹æ•°æ®ã€‚

------

## ğŸ“Œ å››ã€é˜¶æ®µ 3ï¼šæ ‡è®°ç‚¹ä¸ä¿¡æ¯çª—å£

### ç›®æ ‡

ç”¨æˆ·å¯ä»¥ï¼š

- æŸ¥çœ‹é™„è¿‘ç”¨æˆ·æˆ–åœ°ç‚¹ï¼›
- ç‚¹å‡»æ ‡è®°æ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯ï¼›
- æ·»åŠ æ”¶è—ç‚¹ã€‚

### å®ç°è¦ç‚¹

1. ä½¿ç”¨ `aMap.addMarker(MarkerOptions().position(latLng).title("xxx"))`
2. å®ç°è‡ªå®šä¹‰ InfoWindowAdapter æ˜¾ç¤ºç”¨æˆ·ä¿¡æ¯ï¼›
3. å¯¹æ¥ Room/åç«¯æ¥å£ï¼ŒåŠ è½½åŠ¨æ€ç‚¹ä½æ•°æ®ã€‚

------

## ğŸ”„ äº”ã€é˜¶æ®µ 4ï¼šä¸ç¤¾äº¤æ¨¡å—è”åŠ¨

### ç›®æ ‡

æ”¯æŒï¼š

- åœ¨åœ°å›¾ä¸Šæ˜¾ç¤ºâ€œå¥½å‹ä½ç½®â€æˆ–â€œæ‰“å¡ç‚¹â€ï¼›
- ç‚¹å‡»åè·³è½¬è‡³å¯¹åº”ç”¨æˆ·è¯¦æƒ…é¡µã€‚

### æŠ€æœ¯è¦ç‚¹

1. ä»ç”¨æˆ·æ¨¡å—æ¥å£åŠ è½½å¥½å‹åæ ‡ï¼›
2. ä½¿ç”¨ ViewModel ç»Ÿä¸€ç®¡ç†æ•°æ®ï¼›
3. ç‚¹å‡» Marker â†’ è·³è½¬ `UserDetailActivity`ã€‚

------

## ğŸ§  å…­ã€é˜¶æ®µ 5ï¼šæ€§èƒ½ä¸äº¤äº’ä¼˜åŒ–

### å¯é€‰ä¼˜åŒ–

| åŠŸèƒ½        | æ–¹æ³•                             |
| ----------- | -------------------------------- |
| åœ°å›¾æ‡’åŠ è½½  | MapFragment æŒ‰éœ€åŠ è½½             |
| Marker èšåˆ | ä½¿ç”¨ SDK æä¾›çš„ cluster ç®¡ç†     |
| ç¼“å­˜ç­–ç•¥    | Room + ViewModel + LiveData è”åŠ¨ |
| ä¸»é¢˜é€‚é…    | ç™½å¤©/å¤œé—´åœ°å›¾æ ·å¼åˆ‡æ¢            |

------

## ğŸ§­ ä¸ƒã€é˜¶æ®µ 6ï¼šæµ‹è¯•ä¸é›†æˆ

### æµ‹è¯•é‡ç‚¹

- å®šä½ç²¾åº¦ä¸æƒé™è¯·æ±‚ï¼›
- åœ°å›¾ç¼©æ”¾ã€æ‹–åŠ¨ã€æ—‹è½¬æµç•…åº¦ï¼›
- å†…å­˜æ³„æ¼ä¸ç”Ÿå‘½å‘¨æœŸåŒæ­¥ï¼ˆmapView.onResume/onPause/onDestroyï¼‰ï¼›
- ä¸ç¤¾äº¤æ¨¡å—çš„è·³è½¬ä¸€è‡´æ€§ã€‚

------

## âœ… ç»“è¯­

åœ°å›¾æ¨¡å—å¼€å‘å»ºè®®å…ˆ**å•ç‹¬æ„å»ºç‹¬ç«‹æ¨¡å—**ï¼ˆå¯é€šè¿‡ `feature-map` å­æ¨¡å—å½¢å¼ï¼‰ï¼Œ
 å®Œæˆåå†ä¸ä¸»å·¥ç¨‹æ•´åˆï¼Œä»¥é™ä½å†²çªä¸è€¦åˆã€‚

------

